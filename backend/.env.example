# A Bordo - Backend Configuration

# Database Configuration (PostgreSQL)
DATABASE_URL=postgresql://username:password@host:port/database

# JWT Configuration
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production
JWT_EXPIRES_IN=7d

# Email Configuration (SMTP)
# Gmail raccomandato: usare App Password con 2FA attivo
# Combinazioni comuni:
# - STARTTLS: EMAIL_PORT=587, EMAIL_SECURE=false
# - TLS:      EMAIL_PORT=465, EMAIL_SECURE=true
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_SECURE=false
EMAIL_USER=your-email@gmail.com
EMAIL_PASS=your-app-specific-password

# Email Provider Switch
# Scegli tra:
# - smtp (default): usa i parametri sopra
# - sendgrid: invia tramite API HTTP, utile se le porte SMTP sono bloccate
EMAIL_PROVIDER=smtp

# SendGrid (solo se EMAIL_PROVIDER=sendgrid)
# Ottieni la chiave su https://app.sendgrid.com/settings/api_keys
SENDGRID_API_KEY=your-sendgrid-api-key
# Mittente usato da SendGrid (fallback su EMAIL_USER se non definito)
SENDGRID_FROM=your-email@example.com

# Brevo (Sendinblue) – piano gratuito ~300 email/giorno
# Usa API HTTP, niente SMTP: evita blocchi egress
BREVO_API_KEY=your-brevo-api-key
# Mittente verificato in Brevo (fallback su EMAIL_USER se non definito)
BREVO_SENDER=your-email@example.com

# Frontend URL (for CORS)
# In sviluppo:
FRONTEND_URL=http://localhost:5173
# In produzione imposta l'URL reale del frontend (esempio):
# FRONTEND_URL=https://your-frontend-url.vercel.app

# Server Configuration
PORT=3001
NODE_ENV=production

# Security
# Costo bcrypt per hash password (default 10)
# Valori più alti aumentano la sicurezza ma rallentano su CPU limitate
BCRYPT_COST=10

# Migrazioni DB all'avvio
# Imposta a 'true' solo quando vuoi eseguire la creazione/aggiornamento schema al boot
# In produzione lascia 'false' per avvio più rapido
RUN_DB_MIGRATIONS=false

# Parametri pool PostgreSQL (opzionali)
# PG_POOL_MAX=10
# PG_IDLE_TIMEOUT=30000
# PG_CONNECTION_TIMEOUT=5000

# Fine configurazione
